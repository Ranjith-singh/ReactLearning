<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0px;
        }
        .container{
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgb(222, 222, 222);
        }
        .button{
            background-color: rgb(25, 135, 84);
            color: white;
            padding: 10px 10px;
            margin: 5px;
            border: none;
            border-radius: 5px;
        }
        .clickedButton{
            background-color: rgb(169, 85, 25);
            color: white;
            padding: 10px 10px;
            margin: 5px;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <script type="text/babel">

        const Counter= (props)=>{
            const {count, setCount}= props;
            const [autoClick, setAutoClick]= React.useState(false)
            const buttonRef= React.useRef(null)

            const clicked= (event)=>{
                const newCount= count+1;
                setCount(newCount);
            }
            const autoIncrement= ()=>{
                setAutoClick(!autoClick)
            }
            const reset= ()=>{
                setCount(0);
            }
            React.useEffect(()=>{
                let increment;
                if(autoClick){
                    increment= setInterval(()=>{
                        buttonRef.current.click()
                    }, 1000)
                }
                else{
                    reset(0)
                }
                return ()=>{
                    clearInterval(increment)
                }
            }, [autoClick])

            return(
                <div
                    className="container"
                >
                    <button
                        className= {(autoClick)?"clickedButton":"button"}
                        onClick= {clicked}
                        ref= {buttonRef}
                    >
                        Clicked {count} {count===1?"time":"times"}
                    </button>
                    <button
                        className= "button"
                        onClick= {reset}
                    >
                        Reset
                    </button>
                    <button
                        className= "button"
                        onClick= {autoIncrement}
                    >
                        AutoClick
                    </button>
                </div>
            )
        }

        const App= ()=>{
            const [count, setCount]= React.useState(0);
            return(
                <>
                    <Counter
                        count= {count}
                        setCount= {setCount}
                    />
                </>
            )
        }

        const container= document.querySelector(".js-container");
        ReactDOM.createRoot(container).render(<App />);
    </script>
</body>
</html>